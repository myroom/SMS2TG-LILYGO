# LilyGO T-Call SIM800 — Приём SMS и отправка в Telegram

## Описание

Этот проект предназначен для платы LilyGO T-Call SIM800 (ESP32 + SIM800L) и позволяет автоматически принимать входящие SMS, отображать их в web-интерфейсе и пересылать содержимое сообщений в Telegram-чат. Настройка WiFi и Telegram осуществляется через удобный web-интерфейс, доступный при первом запуске или после сброса настроек.

## Возможности

-   Приём входящих SMS с SIM-карты
-   Автоматическая отправка текста SMS в Telegram-чат
-   Современный web-интерфейс для настройки WiFi и Telegram Token/Chat ID
-   Просмотр логов работы устройства через web
-   Сброс настроек через web-интерфейс одной кнопкой
-   Поддержка кириллицы и других языков (декодирование UCS2)
-   Вся работа устройства отображается в Serial Monitor для отладки

## Требования

-   Плата LilyGO T-Call SIM800 (ESP32 + SIM800L)
-   SIM-карта с активным тарифом
-   Arduino IDE или PlatformIO
-   Библиотека Arduino (ESP32 core)

## Подключение

-   SIM800_TX (модуль) → GPIO 27 (ESP32)
-   SIM800_RX (модуль) → GPIO 26 (ESP32)
-   Питание SIM800: рекомендуется использовать отдельный источник питания или аккумулятор (модуль чувствителен к просадкам напряжения)

## Быстрый старт и настройка

1. Откройте проект в Arduino IDE или PlatformIO.
2. Подключите плату к компьютеру через USB.
3. Выберите плату **ESP32 Dev Module** и соответствующий порт.
4. Загрузите скетч на плату.
5. Откройте Serial Monitor (скорость 115200 бод).
6. Вставьте SIM-карту в модуль и подайте питание.
7. При первом запуске устройство создаст WiFi-точку доступа `SMS2TG-SETUP`.
8. Подключитесь к этой WiFi-сети с телефона или компьютера и откройте браузер по адресу [http://192.168.4.1](http://192.168.4.1).
9. В web-интерфейсе введите параметры вашей WiFi-сети и Telegram (Token и Chat ID), затем сохраните настройки.
10. После перезагрузки устройство подключится к WiFi и начнёт работу в основном режиме.

## Работа устройства

-   Все входящие SMS автоматически пересылаются в указанный Telegram-чат.
-   В web-интерфейсе можно просматривать статус модема и логи работы.
-   Для сброса настроек используйте кнопку "Сбросить все настройки" в web-интерфейсе.

## Пример вывода в Serial Monitor

```
Новое SMS!
Отправитель: +79161234567
Дата/время: 01.05.2023 12:34:56 +12
Текст: Тестовое сообщение
```

## Источники

-   [Официальный репозиторий LilyGO T-Call SIM800](https://github.com/Xinyuan-LilyGO/LilyGo-T-Call-SIM800)
-   [Проект SMS2TG-LILYGO на GitHub](https://github.com/myroom/SMS2TG-LILYGO)
